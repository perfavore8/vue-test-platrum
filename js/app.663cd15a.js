(function(){"use strict";var e={3539:function(e,n,t){var l=t(9963),s=t(6252);const o={class:"app"};function r(e,n,t,l,r,a){const u=(0,s.up)("UsersLIst");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s.Wm)(u)])}var a=t(3577);const u={class:"container"},i={class:"grid"},c={class:"titles"},d=["onClick"],p={class:"list"};function v(e,n,t,l,o,r){const v=(0,s.up)("lable"),h=(0,s.up)("AddUserModal");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",u,[(0,s._)("button",{onClick:n[0]||(n[0]=n=>e.openModal()),class:"addBtn"},"Добавить"),(0,s._)("div",i,[(0,s._)("div",c,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.titles,(n=>((0,s.wg)(),(0,s.iD)("label",{key:n,class:"grid-cell title",onClick:t=>e.setSortValue(n.value)},(0,a.zw)(n.name),9,d)))),128))]),(0,s._)("ul",p,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.sortedUserList,(e=>((0,s.wg)(),(0,s.iD)("li",{class:"item",key:e},[(0,s.Wm)(v,{class:"grid-cell name",style:(0,a.j5)({width:e.width})},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.name),1)])),_:2},1032,["style"]),(0,s.Wm)(v,{class:"grid-cell phone"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.phoneNumber),1)])),_:2},1024)])))),128))])])]),((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[e.showModal?((0,s.wg)(),(0,s.j4)(h,{key:0,userList:e.userList,onClose:e.closeModal,onAddNewUser:e.addNewUser},null,8,["userList","onClose","onAddNewUser"])):(0,s.kq)("",!0)]))],64)}const h=e=>((0,s.dD)("data-v-cd70571e"),e=e(),(0,s.Cn)(),e),f={class:"modal"},m={class:"row header"},w=h((()=>(0,s._)("span",null,"Добавление пользователя",-1))),g={class:"row"},b=h((()=>(0,s._)("span",null,"Имя",-1))),_={class:"row"},y=h((()=>(0,s._)("span",null,"Телефон",-1))),U={class:"row"},k=h((()=>(0,s._)("span",null,"Начальник",-1))),N=h((()=>(0,s._)("option",{value:null,selected:""},null,-1))),O=["value"];function L(e,n,t,o,r,u){return(0,s.wg)(),(0,s.iD)("div",f,[(0,s._)("div",m,[w,(0,s._)("button",{onClick:n[0]||(n[0]=(...e)=>o.close&&o.close(...e))},"x")]),(0,s._)("div",g,[b,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":n[1]||(n[1]=e=>o.name=e)},null,512),[[l.nr,o.name]])]),(0,s._)("div",_,[y,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":n[2]||(n[2]=e=>o.phone=e)},null,512),[[l.nr,o.phone]])]),(0,s._)("div",U,[k,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":n[3]||(n[3]=e=>o.chief=e)},[N,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.userList,(e=>((0,s.wg)(),(0,s.iD)("option",{value:e.id,key:e.id},(0,a.zw)(e.name),9,O)))),128))],512),[[l.bM,o.chief]])]),(0,s._)("button",{onClick:n[4]||(n[4]=e=>o.save()),class:"saveBtn"},"Сохранить")])}var j=t(2262),D={props:{userList:{type:Array,required:!0}},emits:{close:null,save:null},setup(e,n){const t=(0,j.iH)(null),l=(0,j.iH)(null),s=(0,j.iH)(null),o=()=>{n.emit("close")},r=()=>{null!=t.value&&null!=l&&(n.emit("addNewUser",t,l,s),o())};return{name:t,phone:l,chief:s,close:o,save:r}}},M=t(3744);const C=(0,M.Z)(D,[["render",L],["__scopeId","data-v-cd70571e"]]);var S=C;t(7658);function H(){const{users:e}=q();(0,s.YP)(e,(()=>{n()}),{deep:!0});const n=()=>localStorage.users=JSON.stringify(e),t=()=>"undefined"===localStorage.users||void 0===localStorage.users?null:JSON.parse(localStorage.users);return{getUsersLocalStorage:t}}const x=(0,j.qj)([{id:1,name:"Марина",phoneNumber:"+7 900 123 45 67",childs:[]},{id:2,name:"Петр",phoneNumber:"+7 900 123 45 68",childs:[]},{id:3,name:"Иван",phoneNumber:"+7 900 123 45 67",childs:[{id:5,name:"Катя",phoneNumber:"+7 900 123 45 67",childs:[]}]},{id:4,name:"Ирина",phoneNumber:"+7 900 123 45 67",childs:[]}]),Y=(e,n,t)=>{const l={id:Math.round(Math.random()*Date.now()),name:e.value,phoneNumber:n.value,childs:[]};null==t.value?x.push(l):A(x,t.value,l)},A=(e,n,t)=>{(0,s.Y3)((()=>{e.forEach((e=>{e.id!=n?e.childs.length&&A(e.childs,n,t):e.childs.push(t)}))}))};let V=[];const z=(e,n)=>{const t=.95*n;e.forEach((e=>{V.push({id:e.id,name:e.name,phoneNumber:e.phoneNumber,width:`${t}%`}),e.childs.length&&z(e.childs,t)}))},I=(0,s.Fl)((()=>(V=[],z(x,100/.95),V))),{getUsersLocalStorage:P}=H();function q(){return{users:x,addNewUser:Y,userList:I}}Object.assign(x,P());const{userList:E}=q();let K=null;const W=e=>{K=K===e?null:e,B(E.value)},Z=(0,j.iH)([]),B=e=>{if(null==K)Z.value=[...e];else{const n=[...e];n.sort(((e,n)=>e[K]>n[K]?1:e[K]==n[K]?0:e[K]<n[K]?-1:void 0)),Z.value=n}};function F(){return{setSortValue:W,sortedUserList:Z}}function J(){const e=(0,j.iH)(!1),n=()=>{e.value=!0},t=()=>{e.value=!1};return{showModal:e,openModal:n,closeModal:t}}(0,s.YP)(E,(()=>{B(E.value)}),{deep:!0}),B(E.value);var T={components:{AddUserModal:S},setup(){const e=[{name:"Имя",value:"name"},{name:"Телефон",value:"phoneNumber"}];return{titles:e,...q(),...J(),...F()}}};const R=(0,M.Z)(T,[["render",v],["__scopeId","data-v-451a5780"]]);var $=R,G={name:"App",components:{UsersLIst:$}};const Q=(0,M.Z)(G,[["render",r]]);var X=Q;(0,l.ri)(X).mount("#app")}},n={};function t(l){var s=n[l];if(void 0!==s)return s.exports;var o=n[l]={exports:{}};return e[l](o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(n,l,s,o){if(!l){var r=1/0;for(c=0;c<e.length;c++){l=e[c][0],s=e[c][1],o=e[c][2];for(var a=!0,u=0;u<l.length;u++)(!1&o||r>=o)&&Object.keys(t.O).every((function(e){return t.O[e](l[u])}))?l.splice(u--,1):(a=!1,o<r&&(r=o));if(a){e.splice(c--,1);var i=s();void 0!==i&&(n=i)}}return n}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[l,s,o]}}(),function(){t.d=function(e,n){for(var l in n)t.o(n,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:n[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,l){var s,o,r=l[0],a=l[1],u=l[2],i=0;if(r.some((function(n){return 0!==e[n]}))){for(s in a)t.o(a,s)&&(t.m[s]=a[s]);if(u)var c=u(t)}for(n&&n(l);i<r.length;i++)o=r[i],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(c)},l=self["webpackChunkvue_test_platrum"]=self["webpackChunkvue_test_platrum"]||[];l.forEach(n.bind(null,0)),l.push=n.bind(null,l.push.bind(l))}();var l=t.O(void 0,[998],(function(){return t(3539)}));l=t.O(l)})();
//# sourceMappingURL=app.663cd15a.js.map